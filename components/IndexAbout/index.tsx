import indexAbout from "../../public/images/index-about.png";
import Image from "next/image";
import { useEffect, useRef, useState } from "react";
import H2 from "../H2";
import { motion, useAnimationControls, useInView } from "framer-motion";

const IndexAbout: React.FC = () => {
  const [showVideo, setShowVideo] = useState(false);

  const ref = useRef(null);
  const isInView = useInView(ref, { once: true });

  const svgVariant = {
    hidden: { opacity: 1 },
    visible: {
      opacity: 1,
      transition: {
        delayChildren: 0.3,
        staggerChildren: 0.2,
      },
    },
  };

  const svgVariant2 = {
    hidden: { opacity: 1 },
    visible: {
      opacity: 1,
      transition: {
        delayChildren: 0.3,
        staggerChildren: 0.2,
      },
    },
  };

  const icon = {
    hidden: {
      opacity: 0,
      pathLength: 0,
      fill: "rgba(181, 1, 0, 0)",
    },

    visible: {
      opacity: 1,
      pathLength: 1,
      fill: "rgba(181, 1, 0, 1)",
      transition: {
        default: { duration: 1, ease: "easeInOut" },
        fill: { duration: 1, ease: [1, 0, 0.8, 1] },
      },
    },
  };

  const animation = useAnimationControls();

  useEffect(() => {
    if (isInView) {
      animation.start("visible");
    }
  }, [animation, isInView]);

  return (
    <>
      <section className="index-about" id="about">
        <div className="index-about__container">
          <div className="index-about__detail">
            <H2 classes="lg:text-start">About Tickers</H2>
            <p className="index-about__detail__text">
              Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
              eiusmod tempor incididunt ut labore et dolore magna aliqua Egestas
              purus viverra accumsan in nisl nisi Arcu cursus vitae congue
              mauris rhoncus aenean vel elit scelerisque
            </p>
            <span ref={ref} className="index-about__detail__attention">
              Watch The Video For More Details
              <motion.svg
                className="index-about__detail__attention__arrow--desktop"
                width="217"
                height="219"
                viewBox="0 0 217 219"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                variants={svgVariant}
                initial="hidden"
                animate={animation}
              >
                <motion.path
                  d="M10.0978 135.341C19.6651 116.373 39.92 101.98 59.7576 95.5452C78.7552 89.3315 105.931 87.9203 119.268 105.971C124.134 112.578 125.125 121.981 116.835 126.154C109.195 130.065 100.576 126.241 97.127 118.543C87.8844 97.9796 113.885 80.3876 130.42 75.3238C140.862 72.0772 152.041 71.4028 162.899 73.2378C172.941 74.9816 184.411 78.8473 191.551 86.3657C192.603 87.4183 191.043 89.391 189.721 88.6786C182.84 84.9005 176.608 80.8619 168.977 78.592C161.034 76.2964 152.722 75.5886 144.53 76.412C128.322 77.9768 108.877 86.1582 101.239 101.566C97.2529 109.69 99.1032 125.299 111.337 124.132C116.234 123.689 120.428 119.928 119.63 114.767C118.945 110.026 115.168 105.827 111.605 102.901C96.9693 91.1196 74.7805 93.3758 58.2095 99.1853C48.8813 102.427 40.0534 107.28 32.2927 113.307C23.9112 119.838 17.7926 127.715 11.556 136.162C11.1152 137.14 9.65694 136.319 10.0978 135.341Z"
                  stroke="#B50100"
                  variants={icon}
                />
                <motion.path
                  d="M7.29859 140.419C12.7375 117.417 31.9806 100.236 54.3844 94.0615C65.1663 91.0845 76.467 90.3961 87.5894 91.3351C98.9704 92.3679 111.907 94.5187 121.414 101.145C128.085 105.751 135.754 117.225 127.88 124.377C120.949 130.617 107.307 130.34 100.194 124.611C92.2629 118.235 92.6666 106.508 97.399 98.4209C103.179 88.7294 114.112 82.3357 124.33 78.2498C146.645 69.2423 172.849 70.6009 194.025 82.244C196.014 83.3736 194.667 86.6195 192.624 85.5579C177.227 77.264 159.494 74.308 142.25 77.0432C133.452 78.493 124.827 81.406 117.055 85.7655C108.12 90.7539 98.361 98.1861 97.4361 109.17C96.3973 121.28 107.595 127.031 118.303 124.99C124.591 123.769 129.532 120.045 127.092 113.035C125.178 107.323 119.639 103.39 114.464 100.96C97.6463 93.2008 75.5709 92.2302 57.8218 96.4452C35.439 101.752 15.441 117.784 9.6753 140.638C9.30677 142.226 6.98385 141.938 7.29859 140.419Z"
                  stroke="#B50100"
                  variants={icon}
                />
                <motion.path
                  d="M170.272 88.3592C174.975 87.3209 179.819 86.9463 184.566 86.2739C186.817 85.9518 189.069 85.6297 191.266 85.3757C192.297 85.1947 197.863 85.1695 198.304 84.1912C198.558 83.729 194.766 79.4072 194.313 78.7178C192.983 76.8933 191.653 75.0688 190.323 73.2443C187.677 69.7174 183.89 65.9515 182.637 61.6453C182.151 60.156 183.798 58.9146 185.081 59.8173C187.509 61.5147 189.063 64.1789 190.778 66.6389C192.712 69.3826 194.768 72.1123 196.702 74.8561C198.553 77.4239 203.965 82.3621 202.417 86.003C200.907 89.454 193.815 88.6048 190.816 88.8896C184.102 89.6659 177.255 90.8902 170.522 90.9886C168.744 91.1322 168.523 88.7468 170.272 88.3592Z"
                  stroke="#B50100"
                  variants={icon}
                />
                <motion.path
                  d="M170.427 87.0498C175.547 86.8909 180.893 88.1282 186.085 88.5794C192.024 89.0679 198.07 89.4203 204.098 89.0945C203.603 90.1412 203.177 91.242 202.628 92.3568C199.416 87.7185 195.989 83.3524 192.386 79.0686C188.866 74.9607 183.977 71.3203 181.132 66.6396C180.294 65.314 181.567 63.0021 183.285 63.9168C187.853 66.4192 191.475 71.3812 194.844 75.2592C198.857 79.8667 202.532 84.7607 205.992 89.9269C206.981 91.4824 205.772 93.2921 204.087 93.1777C198.163 92.8112 192.321 92.6207 186.436 92.0641C181.108 91.505 175.184 91.1385 170.239 89.1126C169.204 88.7375 169.382 87.1088 170.427 87.0498Z"
                  stroke="#B50100"
                  variants={icon}
                />
                <motion.path
                  d="M166.639 84.8347C179.93 86.2661 193.166 87.7656 206.496 89.007C205.879 90.0676 205.208 91.1963 204.591 92.2569C201.469 86.8057 198.348 81.3544 194.82 76.1355C191.595 71.3764 187.217 66.8123 184.802 61.5884C183.989 59.9511 186.233 58.5169 187.531 59.5417C192.242 63.2634 195.558 69.3105 198.798 74.1916C202.135 79.3707 205.365 84.6859 208.188 90.2335C208.919 91.6948 207.368 93.2344 205.982 93.0237C192.756 91.0901 179.559 89.4006 166.347 87.5891C164.404 87.3809 164.818 84.6124 166.639 84.8347Z"
                  stroke="#B50100"
                  variants={icon}
                />
              </motion.svg>
              <motion.svg
                className="index-about__detail__attention__arrow--mobile"
                width="76"
                height="101"
                viewBox="0 0 76 101"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                variants={svgVariant2}
                initial="hidden"
                animate={animation}
              >
                <motion.path
                  d="M72.3754 4.90953C74.8712 16.6159 71.0747 29.9655 64.6556 39.6391C58.5265 48.9261 47.1233 58.8925 34.9209 55.4651C30.4614 54.2053 26.7131 50.3724 28.8727 45.6716C30.8397 41.3096 35.962 40.0446 40.1855 42.2757C51.4806 48.2255 46.2954 64.9691 40.8391 72.8996C37.4112 77.929 32.7535 82.0705 27.352 84.9878C22.3395 87.6655 15.9543 89.8918 10.178 89.0088C9.34606 88.9034 9.33396 87.4917 10.1639 87.3536C14.509 86.6653 18.6614 86.3158 22.803 84.7006C27.0904 82.9895 30.9796 80.4471 34.2767 77.2661C40.8228 71.0011 46.4543 60.6871 44.3688 51.2238C43.2506 46.248 36.939 39.9567 31.993 44.6794C30.0047 46.5587 29.4936 49.6691 31.662 51.6857C33.6335 53.5543 36.7671 54.1199 39.3588 54.1935C49.9202 54.3925 58.8416 45.7651 64.0505 37.4915C66.9928 32.8469 69.1483 27.6592 70.4225 22.317C71.7906 16.5376 71.6938 10.9389 71.4477 5.04663C71.296 4.46105 72.2237 4.32395 72.3754 4.90953Z"
                  stroke="#B50100"
                  variants={icon}
                />
                <motion.path
                  d="M71.8109 1.68031C77.5368 13.7576 75.1656 27.996 67.5308 38.4359C63.8584 43.4626 59.1521 47.6519 53.9502 51.0576C48.602 54.5107 42.1786 58.002 35.6792 58.3289C31.1347 58.5772 23.7313 56.121 24.6587 50.2405C25.4944 45.0892 31.5664 40.5236 36.7006 40.6217C42.4215 40.7254 46.3785 46.0688 47.1566 51.2843C48.0416 57.5717 45.5071 64.1668 42.4728 69.4917C35.8751 81.1584 23.9205 89.5612 10.5431 91.6715C9.27352 91.854 8.71941 89.9504 9.98854 89.7192C19.6547 88.1086 28.4626 83.3261 35.0502 76.1858C38.3921 72.5188 41.1422 68.262 43.0094 63.6561C45.164 58.3714 46.8181 51.7191 43.3513 46.5264C39.5376 40.795 32.6065 42.0912 28.637 46.6769C26.3135 49.3803 25.4622 52.7305 29.0018 55.0035C31.8534 56.8805 35.6654 56.7225 38.7883 56.0225C48.8883 53.686 58.898 46.53 65.1852 38.5594C73.1167 28.5117 76.2234 14.5238 70.6926 2.39964C70.2944 1.56837 71.4131 0.89771 71.8109 1.68031Z"
                  stroke="#B50100"
                  variants={icon}
                />
                <motion.path
                  d="M18.939 81.329C17.246 83.4069 15.2577 85.2383 13.4168 87.1687C12.5448 88.0856 11.6729 89.0025 10.8005 89.8707C10.4132 90.3053 7.98571 92.23 8.13734 92.8159C8.18872 93.1086 11.371 93.7236 11.8122 93.8739C13.0372 94.2266 14.2621 94.5793 15.4871 94.932C17.8877 95.5882 20.8724 95.9578 22.9379 97.4387C23.6753 97.9328 23.3915 99.0502 22.5121 99.0904C20.8509 99.1718 19.2324 98.5232 17.6152 98.0206C15.802 97.4674 13.9403 96.9625 12.1271 96.4094C10.4121 95.9059 6.30354 95.5741 5.69866 93.4255C5.1435 91.3747 8.54733 89.3134 9.7594 88.1562C12.425 85.5033 14.9908 82.6059 17.9033 80.2476C18.6307 79.5728 19.5678 80.5559 18.939 81.329Z"
                  stroke="#B50100"
                  variants={icon}
                />
                <motion.path
                  d="M19.3306 82.0073C17.1473 83.8387 14.3728 85.1282 11.943 86.7135C9.1732 88.5393 6.40422 90.4625 3.88211 92.6807C3.73005 92.0455 3.52912 91.4098 3.37664 90.7259C6.41468 91.6813 9.45106 92.4418 12.5355 93.1051C15.5217 93.7188 18.9419 93.6542 21.8346 94.7545C22.668 95.055 22.9249 96.5199 21.8514 96.7045C18.9721 97.1643 15.6408 96.2061 12.8016 95.6425C9.42396 94.9763 6.0931 94.0669 2.76056 92.9624C1.78018 92.6117 1.67197 91.392 2.44932 90.8632C5.16985 88.9882 7.79222 87.0636 10.5625 85.2866C13.09 83.7022 15.8105 81.8272 18.6869 81.0262C19.2717 80.8368 19.7671 81.6215 19.3306 82.0073Z"
                  stroke="#B50100"
                  variants={icon}
                />
                <motion.path
                  d="M21.7744 81.6981C15.4545 85.6323 9.1342 89.5179 2.86402 93.55C2.76044 92.867 2.65644 92.1352 2.55286 91.4521C5.83886 92.7991 9.12486 94.1462 12.5065 95.2505C15.5941 96.2546 19.1174 96.7757 22.0137 98.2652C22.9461 98.7126 22.4694 100.121 21.5407 100.112C18.1682 100.08 14.5873 98.5348 11.4504 97.4815C8.16606 96.3294 4.88088 95.0797 1.69138 93.5875C0.85714 93.1897 0.993364 91.973 1.67431 91.5898C8.14291 87.9006 14.5129 84.113 20.9322 80.3746C21.8559 79.7988 22.6496 81.1706 21.7744 81.6981Z"
                  stroke="#B50100"
                  variants={icon}
                />
              </motion.svg>
            </span>
          </div>
          <div className="index-about__video">
            <Image src={indexAbout} quality={100} />
            <button
              onClick={() => setShowVideo(!showVideo)}
              className="index-about__video__toggle"
            ></button>
          </div>
        </div>
      </section>
    </>
  );
};

export default IndexAbout;
